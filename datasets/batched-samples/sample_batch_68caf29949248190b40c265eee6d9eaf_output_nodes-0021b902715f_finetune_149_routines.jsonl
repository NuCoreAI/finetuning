{"messages": [{"role": "system", "content": "You are a NuCore smart-home assistant. You convert the user\u2019s request into one or more NuCore routines based on the provided DEVICE STRUCTURE."}, {"role": "user", "content": "DEVICE STRUCTURE:\n***Device***\nName: Climate Info\nID: n040_climate9nf1241\nParent: Blue Speedo \ud83e\ude72 [ID: n040_controller]\n  ***Properties***\n    Cabin Temperature [id=ST]\n      Range -50 to 75 Unit Celsius [uom id=4] (step of 0.5 and precision of 1).\n      Range -50 to 150 Unit Fahrenheit [uom id=17] (step of 1 and precision of 1).\n      Enum [uom id=25]\n        No Value [0]\n        Unknown [1]\n        Data Invalid [97]\n        Not Enabled [98]\n        Not Reported [99]\n    Outdoor Temperature [id=GV2]\n      Range -50 to 75 Unit Celsius [uom id=4] (step of 0.5 and precision of 1).\n      Range -50 to 150 Unit Fahrenheit [uom id=17] (step of 1 and precision of 1).\n    Driver Side Temp Setting [id=GV3]\n    Passenger Side Temp Setting [id=GV4]\n    Seat Heating - Front Left [id=GV5]\n    Seat Heating - Front Right [id=GV6]\n    Auto Conditioning [id=GV10]\n    Cabin Preconditioning [id=GV11]\n  ***Accept Commands***\n    Precondition Control [id=AUTOCON]\n    Cabin Temperature [id=CABINTEMP]\n        Parameter 1: name=Driver side Temp [id=driver]\n          Range 15 to 28 Unit Celsius [uom id=4]\n          Range 59 to 83 Unit Fahrenheit [uom id=17]\n        Parameter 2: name=Passenger side Temp [id=passenger]\n          Range 15 to 28 Unit Celsius [uom id=4]\n          Range 59 to 83 Unit Fahrenheit [uom id=17]\n    Seat Heating Level [id=SEAT]\n        Parameter 1: name=Seat Selection [id=seat]\n        Parameter 2: name=Heat Level [id=heatlvl]\n    Steering Wheel Heat Level [id=STEERINGW]\n        Parameter 1: name=n/a [id=n/a]\n\n***Device***\nName: Back of House\nID: n001_huegrp86\nParent: Hue - House 1 [ID: n001_huebridge]\n  ***Properties***\n    Status [id=ST]\n      Range 0 to 100 Unit % [uom id=51]\n    Brightness [id=GV5]\n      Range 1 to 254 Unit Level [uom id=100]\n  ***Accept Commands***\n    Set Temp and Brightness [id=SET_CTBR]\n        Parameter 1: name=Color Temperature [id=K] Range 2000 to 6500 Unit Kelvin [uom id=26]\n        Parameter 2: name=Transition Time [id=D] Range 0 to 540000 Unit millisecond [uom id=42]\n        Parameter 3: name=Brightness [id=BR] Range 1 to 254 Unit Level [uom id=100]\n    On [id=DON]\n    Off [id=DOF]\n\n***Device***\nName: Outlets\nID: n001_huegrp85\nParent: Hue - House 1 [ID: n001_huebridge]\n  ***Properties***\n    Status [id=ST]\n      Range 0 to 100 Unit % [uom id=51]\n  ***Accept Commands***\n    Fast Off [id=DFOF]\n    Off [id=DOF]\n\nUSER QUERY: When I physically press the driver seat heating (front left) on weekday mornings between 06:00 and 09:00 and the cabin is colder than 60\u00b0F, set the driver temperature to 72\u00b0F and enable low steering wheel heat."}, {"role": "assistant", "content": "__BEGIN_NUCORE_ROUTINE__\n{\n  \"routine\": {\n    \"id\": 101,\n    \"name\": \"Weekday morning driver preheat on seat-heat press\",\n    \"parent\": 0,\n    \"comment\": \"When driver manually enables front-left seat heating on weekday mornings and cabin is cold, set cabin driver temp and steering wheel heat\",\n    \"if\": [\n      { \"(\": 1 },\n        { \"==\": { \"device\": \"n040_climate9nf1241\", \"control\": \"SEAT\", \"parameters\": [ { \"name\": \"seat\", \"value\": 0, \"uom\": \"25\", \"precision\": 0 }, { \"name\": \"heatlvl\", \"value\": 1, \"uom\": \"25\", \"precision\": 0 } ] } },\n        { \"or\": 1 },\n        { \"\": 0 },\n      { \")\": 1 },\n      { \"and\": 1 },\n      { \"weekly\": { \"days\": \"mon,tue,wed,thu,fri\", \"from\": { \"time\": \"06:00\", \"to\": { \"time\": \"09:00\" } } } },\n      { \"and\": 1 },\n      { \"<\": { \"device\": \"n040_climate9nf1241\", \"status\": \"ST\", \"value\": 600, \"uom\": \"17\", \"precision\": 1 } }\n    ],\n    \"then\": [\n      { \"device\": \"n040_climate9nf1241\", \"command\": \"CABINTEMP\", \"parameters\": [ { \"name\": \"driver\", \"value\": 720, \"uom\": \"17\", \"precision\": 1 } ] },\n      { \"device\": \"n040_climate9nf1241\", \"command\": \"STEERINGW\", \"parameters\": [ { \"name\": \"n/a\", \"value\": 1, \"uom\": \"25\", \"precision\": 0 } ] }\n    ],\n    \"else\": [],\n    \"reasoning\": \"Detect a physical seat-heat control (SEAT) for front left (seat=0, heatlvl=1) during weekday morning window and only act if cabin temperature (ST) is below 60\u00b0F (600 with precision 1). Then set driver cabin temperature to 72\u00b0F (720, precision 1, uom 17) and set steering wheel heat to Low (STEERINGW parameter value 1).\"\n  }\n}\n__END_NUCORE_ROUTINE__"}]}
