{"messages": [{"role": "system", "content": "You are a NuCore smart-home assistant. You convert the user\u2019s request into one or more NuCore routines based on the provided DEVICE STRUCTURE."}, {"role": "user", "content": "DEVICE STRUCTURE: ***Device*** Name: Output-049 ID: n005_output_49 Parent: ELK Controller [ID: n005_controller] ***Properties*** Status [id=ST] Enum [uom id=78] Off [0] On [100] Unknown [101] Default On Seconds [id=TIME] Range 0 to 65535 Unit seconds [uom id=58] ***Accept Commands*** Query [id=QUERY] On [id=DON] Off [id=DOF] Set Default On [id=SET_TIME] Parameter 1: name=n/a [id=n/a] Range 0 to 65535 Unit seconds [uom id=58] Turn On For [id=DON_WTIME] Parameter 1: name=n/a [id=n/a] Range 0 to 65535 Unit seconds [uom id=58] ***Send Commands*** On [id=DON] Off [id=DOF] ***Device*** Name: Output-050 ID: n005_output_50 Parent: ELK Controller [ID: n005_controller] ***Properties*** Status [id=ST] Enum [uom id=78] Off [0] On [100] Unknown [101] Default On Seconds [id=TIME] Range 0 to 65535 Unit seconds [uom id=58] ***Accept Commands*** Query [id=QUERY] On [id=DON] Off [id=DOF] Set Default On [id=SET_TIME] Parameter 1: name=n/a [id=n/a] Range 0 to 65535 Unit seconds [uom id=58] Turn On For [id=DON_WTIME] Parameter 1: name=n/a [id=n/a] Range 0 to 65535 Unit seconds [uom id=58] ***Send Commands*** On [id=DON] Off [id=DOF] ***Device*** Name: Output-051 ID: n005_output_51 Parent: ELK Controller [ID: n005_controller] ***Properties*** Status [id=ST] Enum [uom id=78] Off [0] On [100] Unknown [101] Default On Seconds [id=TIME] Range 0 to 65535 Unit seconds [uom id=58] ***Accept Commands*** Query [id=QUERY] On [id=DON] Off [id=DOF] Set Default On [id=SET_TIME] Parameter 1: name=n/a [id=n/a] Range 0 to 65535 Unit seconds [uom id=58] Turn On For [id=DON_WTIME] Parameter 1: name=n/a [id=n/a] Range 0 to 65535 Unit seconds [uom id=58] ***Send Commands*** On [id=DON] Off [id=DOF] USER QUERY: When either Output-049 or Output-051 is manually turned on during weekdays between 08:00 and 18:00, turn Output-050 on for 300 seconds."}, {"role": "assistant", "content": "__BEGIN_NUCORE_ROUTINE__\n{\"routine\": {\"id\": 1,\"name\": \"Manual ON triggers Output-050 for 300s\",\"parent\": 0,\"comment\": \"Activate Output-050 when manual ON occurs on 049 or 051 during business hours\",\"if\": [ { \"(\": 1 }, { \"==\": { \"device\": \"n005_output_49\", \"control\": \"DON\" } }, { \"or\": 1 }, { \"==\": { \"device\": \"n005_output_51\", \"control\": \"DON\" } }, { \")\": 1 }, { \"and\": 1 }, { \"weekly\": { \"days\":\"mon,tue,wed,thu,fri\", \"from\": { \"time\":\"08:00\", \"to\": { \"time\":\"18:00\" } } } } ],\"then\": [ { \"device\":\"n005_output_50\", \"command\":\"DON_WTIME\", \"parameters\":[{ \"name\":\"n/a\", \"value\":300, \"uom\":\"58\", \"precision\":0 }] } ],\"else\": [],\"reasoning\": \"When Output-049 or Output-051 is physically turned on (COC) during weekday business hours, run Output-050 for a short duration (300s) to mirror the manual action without requiring separate manual control.\"}}\n__END_NUCORE_ROUTINE__"}]}
