{"messages": [{"role": "system", "content": "You are a NuCore smart-home assistant. You convert the user\u2019s request into one or more NuCore routines based on the provided DEVICE STRUCTURE."}, {"role": "user", "content": "DEVICE STRUCTURE:\n***Device***\nName: ZY 221 Switch All\nID: ZY221_183\nParent: UnfinishedRM ZY221 Dimmer Swi [ID: ZY221_1]\n  ***Properties***\n    Status [id=ST]\n      Enum [uom id=25]\n        Ignore All On & All Off [0]\n        Ignore All On [1]\n        Ignore All Off [2]\n        Ignore None [255]\n  ***Accept Commands***\n    All On [id=ALLON]\n    All Off [id=ALLOFF]\n    Options [id=ALLSET]\n        Parameter 1: name=n/a [id=n/a]\n          Enum [uom id=25]\n            Ignore All On & All Off [0]\n            Ignore All On [1]\n            Ignore All Off [2]\n            Ignore None [255]\n    Query [id=QUERY]\n***Device***\nName: ZY 221 SC Basic Assoc 2\nID: ZY221_252N002\nParent: UnfinishedRM ZY221 Dimmer Swi [ID: ZY221_1]\n  ***Accept Commands***\n    Query [id=QUERY]\n  ***Send Commands***\n    On [id=DON]\n    Off [id=DOF]\n***Device***\nName: ZY 221 SC Basic Assoc 3\nID: ZY221_252N003\nParent: UnfinishedRM ZY221 Dimmer Swi [ID: ZY221_1]\n  ***Accept Commands***\n    Query [id=QUERY]\n  ***Send Commands***\n    On [id=DON]\n    Off [id=DOF]\n\nUSER QUERY: When either associated switch 2 or 3 is physically turned ON during weekdays between 08:00 and 18:00, set the ZY 221 Switch All to Ignore All On."}, {"role": "assistant", "content": "__BEGIN_NUCORE_ROUTINE__\n{\n  \"routine\": {\n    \"id\": 101,\n    \"name\": \"Set Switch All to Ignore All On when assoc device turns on (weekdays)\",\n    \"parent\": 0,\n    \"comment\": \"Triggered by physical ON of assoc 2 or 3 during work hours\",\n    \"if\": [\n      { \"(\": 1 },\n        { \"==\": { \"device\": \"ZY221_252N002\", \"control\": \"DON\" } },\n        { \"or\": 1 },\n        { \"==\": { \"device\": \"ZY221_252N003\", \"control\": \"DON\" } },\n      { \")\": 1 },\n      { \"and\": 1 },\n      { \"weekly\": { \"days\": \"mon,tue,wed,thu,fri\", \"from\": { \"time\": \"08:00\", \"to\": { \"time\": \"18:00\" } } } }\n    ],\n    \"then\": [\n      { \"device\": \"ZY221_183\", \"command\": \"ALLSET\", \"parameters\": [ { \"name\": \"n/a\", \"value\": 1, \"uom\": \"25\", \"precision\": 0 } ] }\n    ],\n    \"else\": [],\n    \"reasoning\": \"When either associated basic device 2 or 3 is physically turned ON (COC) during weekday daytime, set the Switch All device to the enum value 'Ignore All On' (1) using ALLSET so group behaviors ignore All On events as requested.\"\n  }\n}\n__END_NUCORE_ROUTINE__"}]}
