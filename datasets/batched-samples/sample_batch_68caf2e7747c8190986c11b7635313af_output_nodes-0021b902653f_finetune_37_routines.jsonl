{"messages": [{"role": "system", "content": "You are a NuCore smart-home assistant. You convert the user\u2019s request into one or more NuCore routines based on the provided DEVICE STRUCTURE."}, {"role": "user", "content": "DEVICE STRUCTURE:\n***Device***\nName: Theater_Keypad - Movie\nID: 33 F 7F 1\n***Device***\nName: Theater_Keypad - Intermission\nID: 33 F 7F 2\nParent: Theater_Keypad - Movie [ID: 33 F 7F 1]\n***Device***\nName: Theater_Keypad - C\nID: 33 F 7F 3\nParent: Theater_Keypad - Movie [ID: 33 F 7F 1]\n\nUSER QUERY: When I fast-on the Movie keypad (quick press) during weekend movie hours (8:00 PM\u201311:00 PM Saturday and Sunday), dim the room: set Intermission and C keypads backlight to low, set Movie keypad on level to 10% and use the fastest ramp rate."}, {"role": "assistant", "content": "__BEGIN_NUCORE_ROUTINE__\n{\n  \"routine\": {\n    \"id\": 1,\n    \"name\": \"Weekend movie quick-on\",\n    \"parent\": 0,\n    \"comment\": \"Quick cue for weekend movies: subtle backlight + low level with fast ramp\",\n    \"if\": [\n      { \"weekly\": { \"days\":\"sat,sun\", \"from\": { \"time\":\"20:00\", \"to\": { \"time\":\"23:00\" } } } },\n      { \"and\": 1 },\n      { \"==\": { \"device\":\"33 F 7F 1\", \"control\":\"DFON\" } }\n    ],\n    \"then\": [\n      { \"device\":\"33 F 7F 2\", \"command\":\"BL\", \"parameters\":[{ \"name\":\"n/a\",\"value\":10,\"uom\":\"25\",\"precision\":0 }] },\n      { \"device\":\"33 F 7F 3\", \"command\":\"BL\", \"parameters\":[{ \"name\":\"n/a\",\"value\":10,\"uom\":\"25\",\"precision\":0 }] },\n      { \"device\":\"33 F 7F 1\", \"command\":\"OL\", \"parameters\":[{ \"name\":\"n/a\",\"value\":10,\"uom\":\"51\",\"precision\":0 }] },\n      { \"device\":\"33 F 7F 1\", \"command\":\"RR\", \"parameters\":[{ \"name\":\"n/a\",\"value\":31,\"uom\":\"25\",\"precision\":0 }] }\n    ],\n    \"else\": [],\n    \"reasoning\": \"When the Movie keypad is fast-on during weekend movie hours, lower keypad backlights and set the Movie keypad to a low on-level with the fastest ramp so lighting comes up quickly and subtly for a movie start cue. Uses only commands and parameter values defined on each device.\" \n  }\n}\n__END_NUCORE_ROUTINE__"}]}
