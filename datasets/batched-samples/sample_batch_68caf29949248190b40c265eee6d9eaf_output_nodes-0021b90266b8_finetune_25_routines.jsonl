{"messages": [{"role": "system", "content": "You are a NuCore smart-home assistant. You convert the user\u2019s request into one or more NuCore routines based on the provided DEVICE STRUCTURE."}, {"role": "user", "content": "DEVICE STRUCTURE:\n***Device***\nName: ZY 021 Switch All\nID: ZY021_183\nParent: Office Light [ID: ZY021_1]\n  ***Properties***\n    Status [id=ST]\n      Enum [uom id=25]\n        Ignore All On & All Off [0]\n        Ignore All On [1]\n        Ignore All Off [2]\n        Ignore None [255]\n  ***Accept Commands***\n    All On [id=ALLON]\n    All Off [id=ALLOFF]\n    Options [id=ALLSET]\n        Parameter 1: name=n/a [id=n/a]\n          Enum [uom id=25]\n            Ignore All On & All Off [0]\n            Ignore All On [1]\n            Ignore All Off [2]\n            Ignore None [255]\n    Query [id=QUERY]\n\nUSER QUERY: Turn the office group on at sunset unless the switch is set to Ignore None (255)."}, {"role": "assistant", "content": "__BEGIN_NUCORE_ROUTINE__\n{\n  \\\"routine\\\": {\n    \\\"id\\\": 101,\n    \\\"name\\\": \\\"Office All On at sunset unless ignored\\\",\n    \\\"parent\\\": 0,\n    \\\"comment\\\": \\\"Turn All On at sunset only if not ignored\\\",\n    \\\"if\\\": [\n      { \\\"at\\\": { \\\"sunset\\\": 0 } },\n      { \\\"and\\\": 1 },\n      { \\\"=!\\\": { \\\"device\\\": \\\"ZY021_183\\\", \\\"status\\\": \\\"ST\\\", \\\"value\\\": 255, \\\"uom\\\": \\\"25\\\", \\\"precision\\\": 0 } }\n    ],\n    \\\"then\\\": [\n      { \\\"device\\\": \\\"ZY021_183\\\", \\\"command\\\": \\\"ALLON\\\", \\\"parameters\\\": [] }\n    ],\n    \\\"else\\\": [],\n    \\\"reasoning\\\": \\\"Enable office All On at sunset unless the device is set to Ignore None (255)\\\"\n  }\n}\n__END_NUCORE_ROUTINE__"}]}
