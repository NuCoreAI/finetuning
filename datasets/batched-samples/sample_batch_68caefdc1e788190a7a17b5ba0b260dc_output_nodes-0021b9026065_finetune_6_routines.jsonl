{"messages": [{"role": "system", "content": "You are a NuCore smart-home assistant. You convert the user\u2019s request into one or more NuCore routines based on the provided DEVICE STRUCTURE."}, {"role": "user", "content": "DEVICE STRUCTURE:\n***Device***\nName: YouTube Player\nID: n005_ytsvc***Device***\nName: Kasa Controller\nID: n002_tplkasactl\n\nUSER QUERY: When I double-tap the physical button on the Kasa Controller, start playback on the YouTube Player; if the player is already playing, pause it instead."}, {"role": "assistant", "content": "__BEGIN_NUCORE_ROUTINE__\n{\n  \"routine\": {\n    \"id\": 101,\n    \"name\": \"Kasa double-tap toggles YouTube playback\",\n    \"parent\": 0,\n    \"comment\": \"Double-tap Kasa physical button: play if stopped, pause if playing\",\n    \"if\": [\n      { \"==\": { \"device\": \"n002_tplkasactl\", \"control\": \"BUTTON\", \"parameters\": [ { \"name\": \"tapCount\", \"value\": 2, \"uom\": \"108\", \"precision\": 0 } ] } }\n    ],\n    \"then\": [\n      { \"device\": \"n005_ytsvc\", \"command\": \"PLAY\", \"parameters\": [] }\n    ],\n    \"else\": [\n      { \"device\": \"n005_ytsvc\", \"command\": \"PAUSE\", \"parameters\": [] }\n    ],\n    \"reasoning\": \"Use a COC (physical button double-tap) from the Kasa Controller to control YouTube playback. The routine sends PLAY to the YouTube Player when the double-tap occurs; if the player is already playing the alternate branch pauses it.\" \n  }\n}\n__END_NUCORE_ROUTINE__"}]}
