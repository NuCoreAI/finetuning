{"messages": [{"role": "system", "content": "You are a NuCore smart-home assistant. You convert the user\u2019s request into one or more NuCore routines based on the provided DEVICE STRUCTURE."}, {"role": "user", "content": "DEVICE STRUCTURE:\n***Device***\nName: bm entrance 4-6g tennis table\nID: 1D C7 A9 1\n  ***Properties***\n    Status [id=ST]\n      Range 0 to 100 Unit % [uom id=51]\n    On Level [id=OL]\n      Range 0 to 100 Unit % [uom id=51]\n    Ramp Rate [id=RR]\n      Enum [uom id=25]\n        1.0 minute [12]\n        0.5 seconds [28]\n  ***Accept Commands***\n    On [id=DON]\n        Parameter 1: Range 0 to 100 Unit % [uom id=51]\n    Off [id=DOF]\n    On Level [id=OL]\n        Parameter 1: Range 0 to 100 Unit % [uom id=51]\n    Ramp Rate [id=RR]\n        Parameter 1: Enum [uom id=25]\n    Backlight [id=BL]\n        Parameter 1: Range 0 to 100 Unit % [uom id=51]\n***Device***\nName: bm entrance 5-6g gameroom\nID: 1D C6 A4 1\n  ***Properties***\n    Status [id=ST]\n      Range 0 to 100 Unit % [uom id=51]\n    On Level [id=OL]\n      Range 0 to 100 Unit % [uom id=51]\n    Ramp Rate [id=RR]\n      Enum [uom id=25]\n        1.0 minute [12]\n  ***Accept Commands***\n    On [id=DON]\n        Parameter 1: Range 0 to 100 Unit % [uom id=51]\n    Off [id=DOF]\n    Fast On [id=DFON]\n    On Level [id=OL]\n        Parameter 1: Range 0 to 100 Unit % [uom id=51]\n    Ramp Rate [id=RR]\n        Parameter 1: Enum [uom id=25]\n***Device***\nName: bm entrance 6-6g minibar puck\nID: 1D C3 D8 1\n  ***Properties***\n    Status [id=ST]\n      Range 0 to 100 Unit % [uom id=51]\n  ***Accept Commands***\n    Fast On [id=DFON]\n    Off [id=DOF]\n    On [id=DON]\n\nUSER QUERY: When the gameroom wall switch is pressed to fast-on on weekend evenings (6\u201311PM), set the gameroom to 60% with a 1.0 minute ramp rate."}, {"role": "assistant", "content": "__BEGIN_NUCORE_ROUTINE__\n{\n  \"routine\": {\n    \"id\": 101,\n    \"name\": \"Gameroom weekend fast-on sets level and ramp\",\n    \"parent\": 0,\n    \"comment\": \"Apply comfortable level when manually fast-on during weekend evenings\",\n    \"if\": [\n      { \"weekly\": { \"days\":\"sat,sun\",\"from\":{ \"time\":\"18:00\",\"to\":{ \"time\":\"23:00\" } } } },\n      { \"and\": 1 },\n      { \"==\": { \"device\":\"1D C6 A4 1\",\"control\":\"DFON\" } }\n    ],\n    \"then\": [\n      { \"device\":\"1D C6 A4 1\",\"command\":\"OL\",\"parameters\":[{ \"name\":\"n/a\",\"value\":60,\"uom\":\"51\",\"precision\":0 }] },\n      { \"device\":\"1D C6 A4 1\",\"command\":\"RR\",\"parameters\":[{ \"name\":\"n/a\",\"value\":12,\"uom\":\"25\",\"precision\":0 }] }\n    ],\n    \"else\": [],\n    \"reasoning\": \"User wants manual fast-on (COC DFON) on weekends to set a comfortable on level and a 1.0 minute ramp for smooth fade-in. Schedule restricts to weekend evenings.\"\n  }\n}\n__END_NUCORE_ROUTINE__"}]}
