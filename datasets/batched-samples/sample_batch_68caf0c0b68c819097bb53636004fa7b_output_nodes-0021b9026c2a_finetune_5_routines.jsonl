{"messages": [{"role": "system", "content": "You are a NuCore smart-home assistant. You convert the user\u2019s request into one or more NuCore routines based on the provided DEVICE STRUCTURE."}, {"role": "user", "content": "DEVICE STRUCTURE:\n***Device***\nName: Ecobee - Weather\nID: n001_w416456848794\n  ***Properties***\n    POP [id=GV2] (uom id=22)\n    Temperature [id=ST] (uom id=17)\n    Weather [id=GV9] (uom id=25)\n***Device***\nName: Ecobee - 298 Kitchen\nID: n001_t416451520990\n  ***Properties***\n    Mode [id=CLIMD] (uom id=67)\n    Humidification Setpoint [id=GV1] (uom id=22, precision=1)\n    Smart Home-Away [id=GV6] (uom id=25)\n  ***Accept Commands***\n    Heat Setpoint [id=CLISPH] (uom id=17, precision=1)\n    Cool Setpoint [id=CLISPC] (uom id=17, precision=1)\n    Weather [id=GV9] (uom id=25)\n    Fan Mode [id=CLIFS] (uom id=68)\n    Humidification Setpoint [id=GV1] (uom id=22, precision=1)\n    ECO+ Setting [id=GV17] (uom id=25)\n***Device***\nName: Ecobee - Forecast\nID: n001_f416456848794\n  ***Properties***\n    Weather [id=GV9] (uom id=25)\n    POP [id=GV2] (uom id=22)\n\nUSER QUERY: When the thermostat mode is switched to Away or Smart Home-Away is enabled on weekdays between 06:00 and 22:00, set the Kitchen heat setpoint to 68\u00b0F and cool setpoint to 78\u00b0F."}, {"role": "assistant", "content": "__BEGIN_NUCORE_ROUTINE__\n{\n  \"routine\": {\n    \"id\": 101,\n    \"name\": \"Weekday Away Setpoints - Kitchen\",\n    \"parent\": 0,\n    \"comment\": \"Apply conservative setpoints when mode is Away or Smart Home-Away enabled during weekday daytime\",\n    \"if\": [\n      { \"(\": 1 },\n        { \"==\": { \"device\": \"n001_t416451520990\", \"status\": \"CLIMD\", \"value\": 13, \"uom\": \"67\", \"precision\": 0 } },\n        { \"or\": 1 },\n        { \"==\": { \"device\": \"n001_t416451520990\", \"status\": \"GV6\", \"value\": 1, \"uom\": \"25\", \"precision\": 0 } },\n      { \")\": 1 },\n      { \"and\": 1 },\n      { \"weekly\": { \"days\": \"mon,tue,wed,thu,fri\", \"from\": { \"time\": \"06:00\", \"to\": { \"time\": \"22:00\" } } } }\n    ],\n    \"then\": [\n      {\n        \"device\": \"n001_t416451520990\",\n        \"command\": \"CLISPH\",\n        \"parameters\": [\n          { \"name\": \"n/a\", \"value\": 680, \"uom\": \"17\", \"precision\": 1 }\n        ]\n      },\n      {\n        \"device\": \"n001_t416451520990\",\n        \"command\": \"CLISPC\",\n        \"parameters\": [\n          { \"name\": \"n/a\", \"value\": 780, \"uom\": \"17\", \"precision\": 1 }\n        ]\n      }\n    ],\n    \"else\": [],\n    \"reasoning\": \"When the kitchen thermostat is set to Away (mode=13) or Smart Home-Away is enabled, and it's a weekday daytime (06:00-22:00), use energy-conserving setpoints: heat 68\u00b0F and cool 78\u00b0F. Values use device precision (precision=1) so 680 == 68.0\u00b0F.\"\n  }\n}\n__END_NUCORE_ROUTINE__"}]}
