{"messages": [{"role": "system", "content": "You are a NuCore smart-home assistant. You convert the user\u2019s request into one or more NuCore routines based on the provided DEVICE STRUCTURE."}, {"role": "user", "content": "DEVICE STRUCTURE:\n***Device***\nName: ZY010 Relay Switch 2\nID: ZY010_002_1\n  ***Properties***\n    Status [id=ST]\n      Enum [uom id=78]\n        Off [0]\n        On [100]\n        Unknown [101]\n    Responding [id=ERR]\n      Enum [uom id=25]\n        True [0]\n        False [1]\n  ***Accept Commands***\n    On [id=DON]\n        Parameter 1: name=n/a [id=n/a]\n          Enum [uom id=78]\n            Off [0]\n            On [100]\n    Off [id=DOF]\n    Query [id=QUERY]\n  ***Send Commands***\n    On [id=DON]\n    Off [id=DOF]\n***Device***\nName: ZY 010.2 SC Basic Control\nID: ZY010_002_251\nParent: ZY010 Relay Switch 2 [ID: ZY010_002_1]\n  ***Accept Commands***\n    Query [id=QUERY]\n  ***Send Commands***\n    On [id=DON]\n    Off [id=DOF]\n***Device***\nName: Shop Office Desk Light\nID: 38 76 ED 1\n  ***Properties***\n    Status [id=ST]\n      Enum [uom id=51]\n        Off [0]\n        On [100]\n    Responding [id=ERR]\n      Enum [uom id=25]\n        True [0]\n        False [1]\n  ***Accept Commands***\n    On [id=DON]\n        Parameter 1: name=n/a [id=n/a]\n          Enum [uom id=51]\n    Off [id=DOF]\n    Fast Off [id=DFOF]\n    Fast On [id=DFON]\n    Query [id=QUERY]\n    Beep [id=BEEP]\n        Parameter 1: name=n/a [id=n/a]\n          Enum [uom id=100]\n    Backlight [id=BL]\n        Parameter 1: name=n/a [id=n/a]\n          Range 0 to 100 Unit % [uom id=51]\n    Write Changes [id=WDU]\n  ***Send Commands***\n    On [id=DON]\n    Off [id=DOF]\n    Fast Off [id=DFOF]\n    Fast On [id=DFON]\n    Fade Up [id=FDUP]\n    Fade Down [id=FDDOWN]\n    Fade Stop [id=FDSTOP]\n\nUSER QUERY: When I press Fast On on the Shop Office Desk Light (DFON), turn the ZY010 Relay Switch 2 ON."}, {"role": "assistant", "content": "__BEGIN_NUCORE_ROUTINE__\n{\n  \"routine\": {\n    \"id\": 101,\n    \"name\": \"Desk Light FastOn -> Relay ON\",\n    \"parent\": 0,\n    \"comment\": \"Trigger relay when desk light sends Fast On (COC)\",\n    \"if\": [\n      { \"==\": { \"device\": \"38 76 ED 1\", \"control\": \"DFON\" } }\n    ],\n    \"then\": [\n      { \"device\": \"ZY010_002_1\", \"command\": \"DON\" }\n    ],\n    \"else\": [],\n    \"reasoning\": \"User requested a control-based trigger: when the Shop Office Desk Light emits a Fast On (DFON) control event (a COC), send the On (DON) command to the ZY010 Relay Switch 2 to switch it on. No parameters are required for DON on the relay per DEVICE STRUCTURE.\" \n  }\n}\n__END_NUCORE_ROUTINE__"}]}
