{"messages": [{"role": "system", "content": "You are a NuCore smart-home assistant. You convert the user\u2019s request into one or more NuCore routines based on the provided DEVICE STRUCTURE."}, {"role": "user", "content": "DEVICE STRUCTURE:\n***Device***\nName: Camera 9 animal\nID: n003_01_003_animal\nParent: Camera 9 [ID: n003_01_003]\n  ***Properties***\n    Detected [id=ST]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Bear [id=GV0]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Bird [id=GV1]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Cat [id=GV2]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Deer [id=GV3]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Dog [id=GV4]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Mouse [id=GV5]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Rabbit [id=GV6]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Raccoon [id=GV7]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Skunk [id=GV8]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Squirrel [id=GV9]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Unknown Animal [id=GV10]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Unknown Small Animal [id=GV11]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n  ***Accept Commands***\n    On [id=DON]\n    Off [id=DOF]\n    Bear [id=GV0]\n    Bird [id=GV1]\n    Cat [id=GV2]\n    Deer [id=GV3]\n    Dog [id=GV4]\n    Mouse [id=GV5]\n    Rabbit [id=GV6]\n    Raccoon [id=GV7]\n    Skunk [id=GV8]\n    Squirrel [id=GV9]\n    Unknown Animal [id=GV10]\n    Unknown Small Animal [id=GV11]\n  ***Send Commands***\n    On [id=DON]\n    Off [id=DOF]\n    Bear [id=GV0]\n    Bird [id=GV1]\n    Cat [id=GV2]\n    Deer [id=GV3]\n    Dog [id=GV4]\n    Mouse [id=GV5]\n    Rabbit [id=GV6]\n    Raccoon [id=GV7]\n    Skunk [id=GV8]\n    Squirrel [id=GV9]\n    Unknown Animal [id=GV10]\n    Unknown Small Animal [id=GV11]\n***Device***\nName: Camera2 animal\nID: n003_01_001_animal\nParent: Camera2-Backyard [ID: n003_01_001]\n  ***Properties***\n    Detected [id=ST]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Bear [id=GV0]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Bird [id=GV1]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Cat [id=GV2]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Deer [id=GV3]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Dog [id=GV4]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Mouse [id=GV5]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Rabbit [id=GV6]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Raccoon [id=GV7]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Skunk [id=GV8]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Squirrel [id=GV9]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Unknown Animal [id=GV10]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Unknown Small Animal [id=GV11]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n  ***Accept Commands***\n    On [id=DON]\n    Off [id=DOF]\n    Bear [id=GV0]\n    Bird [id=GV1]\n    Cat [id=GV2]\n    Deer [id=GV3]\n    Dog [id=GV4]\n    Mouse [id=GV5]\n    Rabbit [id=GV6]\n    Raccoon [id=GV7]\n    Skunk [id=GV8]\n    Squirrel [id=GV9]\n    Unknown Animal [id=GV10]\n    Unknown Small Animal [id=GV11]\n  ***Send Commands***\n    On [id=DON]\n    Off [id=DOF]\n    Bear [id=GV0]\n    Bird [id=GV1]\n    Cat [id=GV2]\n    Deer [id=GV3]\n    Dog [id=GV4]\n    Mouse [id=GV5]\n    Rabbit [id=GV6]\n    Raccoon [id=GV7]\n    Skunk [id=GV8]\n    Squirrel [id=GV9]\n    Unknown Animal [id=GV10]\n    Unknown Small Animal [id=GV11]\n***Device***\nName: Camera 9 insect\nID: n003_01_003_insect\nParent: Camera 9 [ID: n003_01_003]\n  ***Properties***\n    Detected [id=ST]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Fly [id=GV0]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n    Spider [id=GV1]\n      Enum [uom id=2]\n        False [0]\n        True [1]\n  ***Accept Commands***\n    On [id=DON]\n    Off [id=DOF]\n    Fly [id=GV0]\n    Spider [id=GV1]\n  ***Send Commands***\n    On [id=DON]\n    Off [id=DOF]\n    Fly [id=GV0]\n    Spider [id=GV1]\n\nUSER QUERY: When Camera2 detects a dog at night (between 22:00 and 06:00), turn on the Camera 9 insect camera; otherwise turn it off."}, {"role": "assistant", "content": "__BEGIN_NUCORE_ROUTINE__\n{\n  \"routine\": {\n    \"id\": 101,\n    \"name\": \"Night: Camera2 Dog -> Turn on Camera9 Insect\",\n    \"parent\": 0,\n    \"comment\": \"When Camera2 (backyard) detects a dog during night hours, enable Camera 9 insect; otherwise disable it.\",\n    \"if\": [\n      { \"==\": { \"device\": \"n003_01_001_animal\", \"status\": \"GV4\", \"value\": 1, \"uom\": \"2\", \"precision\": 0 } },\n      { \"and\": 1 },\n      { \"from\": { \"time\": \"22:00\", \"to\": { \"time\": \"06:00\", \"day\": 1 } } }\n    ],\n    \"then\": [\n      { \"device\": \"n003_01_003_insect\", \"command\": \"DON\" }\n    ],\n    \"else\": [\n      { \"device\": \"n003_01_003_insect\", \"command\": \"DOF\" }\n    ],\n    \"reasoning\": \"Trigger on a COS when Camera2's Dog property becomes true (GV4 == 1) combined with an overnight schedule (22:00 -> 06:00). Then turn Camera 9 insect ON (DON). If condition not met, turn it OFF to save power.\"\n  }\n}\n__END_NUCORE_ROUTINE__"}]}
