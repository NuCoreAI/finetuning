{"messages": [{"role": "system", "content": "You are a NuCore smart-home assistant. You convert the user\u2019s request into one or more NuCore routines based on the provided DEVICE STRUCTURE."}, {"role": "user", "content": "DEVICE STRUCTURE:\n***Device***\nName: Plug 3\nID: n007_74fece483cee03\nParent: SmartStrip 74FECE483CEE [ID: n007_74fece483cee]***Device***\nName: Plug 4\nID: n007_74fece483cee04\nParent: SmartStrip 74FECE483CEE [ID: n007_74fece483cee]***Device***\nName: Sub\nID: n007_74fece483cee05\nParent: SmartStrip 74FECE483CEE [ID: n007_74fece483cee]\n\nUSER QUERY: When I double-tap the physical button on Plug 3 between 19:00 and 23:00 on weekdays, turn on Plug 4."}, {"role": "assistant", "content": "__BEGIN_NUCORE_ROUTINE__\n{\n  \"routine\": {\n    \"id\": 101,\n    \"name\": \"Double-tap Plug3 -> Turn on Plug4 (weeknights 19-23)\",\n    \"parent\": 0,\n    \"comment\": \"Double-tap physical control on Plug 3 during weekday evenings\",\n    \"if\": [\n      { \"==\": { \"device\": \"n007_74fece483cee03\", \"control\": \"DFON\", \"parameters\": [ { \"name\": \"tapCount\", \"value\": 2, \"uom\": \"108\", \"precision\": 0 } ] } },\n      { \"and\": 1 },\n      { \"weekly\": { \"days\": \"mon,tue,wed,thu,fri\", \"from\": { \"time\": \"19:00\", \"to\": { \"time\": \"23:00\" } } } }\n    ],\n    \"then\": [\n      { \"device\": \"n007_74fece483cee04\", \"command\": \"DON\", \"parameters\": [] }\n    ],\n    \"else\": [],\n    \"reasoning\": \"Use a COC (double-tap) on Plug 3 as the trigger only during weekday evenings (19:00-23:00). When triggered, send DON to Plug 4 to turn it on. No else action required.\"\n  }\n}\n__END_NUCORE_ROUTINE__"}]}
