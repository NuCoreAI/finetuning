{"messages": [{"role": "system", "content": "You are a NuCore smart-home assistant. You convert the user\u2019s request into one or more NuCore routines based on the provided DEVICE STRUCTURE."}, {"role": "user", "content": "DEVICE STRUCTURE: ***Device*** Name: Office - 8 Button - C ID: 70 13 22 3 Parent: Office - 8 Button [ID: 70 13 22 1] ***Properties*** Status [id=ST] Enum [uom id=51] Off [0] On [100] Responding [id=ERR] Enum [uom id=25] True [0] False [1] ***Accept Commands*** Query [id=QUERY] Backlight [id=BL] Parameter 1: name=n/a [id=n/a] Range 0 to 127 Unit Index [uom id=25] Write Changes [id=WDU] ***Send Commands*** On [id=DON] Off [id=DOF] Fast Off [id=DFOF] Fast On [id=DFON] Fade Up [id=FDUP] Fade Down [id=FDDOWN] Fade Stop [id=FDSTOP] ***Device*** Name: Office - 8 Button - D ID: 70 13 22 4 Parent: Office - 8 Button [ID: 70 13 22 1] ***Properties*** Status [id=ST] Enum [uom id=51] Off [0] On [100] Responding [id=ERR] Enum [uom id=25] True [0] False [1] ***Accept Commands*** Query [id=QUERY] Backlight [id=BL] Parameter 1: name=n/a [id=n/a] Range 0 to 127 Unit Index [uom id=25] Write Changes [id=WDU] ***Send Commands*** On [id=DON] Off [id=DOF] Fast Off [id=DFOF] Fast On [id=DFON] Fade Up [id=FDUP] Fade Down [id=FDDOWN] Fade Stop [id=FDSTOP] ***Device*** Name: Office - 8 Button - E ID: 70 13 22 5 Parent: Office - 8 Button [ID: 70 13 22 1] ***Properties*** Status [id=ST] Enum [uom id=51] Off [0] On [100] Responding [id=ERR] Enum [uom id=25] True [0] False [1] ***Accept Commands*** Query [id=QUERY] Backlight [id=BL] Parameter 1: name=n/a [id=n/a] Range 0 to 127 Unit Index [uom id=25] Write Changes [id=WDU] ***Send Commands*** On [id=DON] Off [id=DOF] Fast Off [id=DFOF] Fast On [id=DFON] Fade Up [id=FDUP] Fade Down [id=FDDOWN] Fade Stop [id=FDSTOP] USER QUERY: When I press Fast On on either button C or D during weekdays between 08:00 and 18:00, set both buttons' backlight to index 10."}, {"role": "assistant", "content": "__BEGIN_NUCORE_ROUTINE__\n{\n  \"routine\": {\n    \"id\": 101,\n    \"name\": \"Weekday DFON sets backlight C and D\",\n    \"parent\": 0,\n    \"comment\": \"Set backlight when DFON pressed on C or D during weekday work hours\",\n    \"if\": [\n      { \"(\": 1 },\n        { \"==\": { \"device\": \"70 13 22 3\", \"control\": \"DFON\" } },\n        { \"or\": 1 },\n        { \"==\": { \"device\": \"70 13 22 4\", \"control\": \"DFON\" } },\n      { \")\": 1 },\n      { \"and\": 1 },\n      { \"weekly\": { \"days\": \"mon,tue,wed,thu,fri\", \"from\": { \"time\": \"08:00\", \"to\": { \"time\": \"18:00\" } } } }\n    ],\n    \"then\": [\n      { \"device\": \"70 13 22 3\", \"command\": \"BL\", \"parameters\": [ { \"name\": \"n/a\", \"value\": 10, \"uom\": \"25\", \"precision\": 0 } ] },\n      { \"device\": \"70 13 22 4\", \"command\": \"BL\", \"parameters\": [ { \"name\": \"n/a\", \"value\": 10, \"uom\": \"25\", \"precision\": 0 } ] }\n    ],\n    \"else\": [],\n    \"reasoning\": \"When a Fast On (DFON) control is received from either button C (70 13 22 3) or D (70 13 22 4) during weekday working hours, set both devices' backlight to index 10 for visibility. No action outside those hours.\"\n  }\n}\n__END_NUCORE_ROUTINE__"}]}
